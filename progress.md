OSAR/Opti-Route Simulation Project Context1. Project OverviewThis project simulates an Underwater Acoustic Sensor Network (UASN) assisted by Autonomous Underwater Vehicles (AUVs). It adapts the concepts from the "Opti-Route" Software-Defined Vehicular Network (SDVN) paper for an underwater environment.Core Objective: Compare the performance of Machine Learning-based Controller Selection (SVM, RF, DTC) against a Baseline approach in terms of Delay, Reliability, Energy, and Overhead.2. Theoretical Framework & PhysicsA. EnvironmentMedium: Underwater Acoustic Channel.Speed of Sound: $\approx 1500$ m/s (Calculated via Temperature/Salinity depth formula).Path Loss: Modeled using Thorp's Absorption formula.$$PL_{dB} = 10 \log(d^k \cdot \alpha(f)^d)$$B. Node & AUV CharacteristicsNodes: Static underwater sensors that drift due to water currents (1m - 5m random drift per second).AUVs: Mobile controllers moving on fixed patrol routes. They serve as "Super Nodes" (Local Controllers).Polymorphism: The AUV class strictly mimics the Node class attributes (pos, depth, channel_state) to allow seamless routing.C. Packet Success Model (The "Digital Cliff")We do not use simple distance thresholding. We use a probabilistic physics model to determine if a packet survives the noise.$$P_{success} = 1 - \left( \frac{d_{current}}{R_{max}} \right)^2$$Logic: Signal quality decays quadratically. At $R_{max}$ (180m), success probability hits 0%.Simulation: if random() <= P_success: Delivered.D. Transmission Delay EquationsNode-to-Node (Standard):$$TD_{N2N} = T_{trans} + T_{prop} = \frac{L}{BW \cdot \log_2(1+SNR)} + \frac{Distance}{1500}$$Node-to-AUV (Modified Heuristic):Includes energy/power factors to represent the cost/benefit of uploading to a controller.$$TD_{AUV} = (T_{trans} + T_{prop}) + \frac{E_c}{E_f} + \frac{P_t}{P_r}$$$E_c$: Comm Energy (Fixed 50J).$E_f$: Flight Energy (Fixed 100J).$P_t$: Transmit Power (150dB). $P_r$: Received Power (Dynamic).3. SDN Architecture & Routing LogicWe implemented a Software-Defined Network (SDN) approach adapted for high-latency underwater environments.A. The "Smart" Routing FlowPacket 1 (Discovery / Greedy):The source has no rule. It scans neighbors.Priority 1: Find best Node (Physics check).Priority 2: If no Node, find best AUV (Strong link assumption).Result: If successful, the path (Next Hop ID) is stored in the flow_table.Packet 2+ (Flow Table Rule):Checks flow_table. Uses the stored Next Hop.Mobility Check: Because nodes drift (1-5m), the stored link might break.Smart Rescue: If the stored path fails (Physics check fails due to drift), the node immediately scans for a nearby Local Controller (AUV) to rescue the packet.Drop: If Rescue fails, packet is dropped and flow rule is deleted.B. Machine Learning Integration (The "Opti-Route" part)Goal: To select the best AUVs to act as Controllers.Input Features: [x, y, z, speed, neighbor_count]Models: Support Vector Machine (SVM), Random Forest (RF), Decision Tree (DTC).Effect: AUVs selected by better models (RF/SVM) are assigned a higher Reliability score ($0.95 - 0.98$) compared to Baseline ($0.80$). This reliability acts as a multiplier on $P_{success}$.4. Performance Metrics (Graphs)1. Packet Delivery Ratio (PDR)Formula: $PDR = \frac{\text{Packets Delivered}}{\text{Packets Generated}}$Trend: Increases with Node Density (more neighbors = more connectivity).Current State: SVM/RF achieve ~85-90% due to better AUV selection and Smart Rescue.2. End-to-End Delay (E2ED)Formula: Average time from Source Generation to Surface Arrival.Trend: Decreases with Node Density.Why: Dense networks allow reliable multi-hop node paths. Sparse networks force long-distance jumps or fallback to AUVs (which have the added Delay cost factors), or fail completely.Retry Logic: REMOVED. We use one-shot attempts to prevent delay explosion.3. Energy Consumption Ratio (ECR)Formula: $ECR = \frac{E_{control} + E_{movement}}{E_{total}}$Note: Overhearing energy is explicitly set to 0 (per user request).Trend: Decreases with Density. (More data delivered = Denominator grows = Ratio shrinks).4. Routing Overhead Ratio (RoR)Formula: $RoR = \frac{\text{Control Bits}}{\text{Control Bits} + \text{Data Bits}}$Trend: Increases with Density (More handshakes/Hellos between neighbors).5. Code Implementation Details (headless_simulation.py)Execution: Headless (No GUI), Multiprocessing Pool (utilizes CPU cores).Simulation Loop: Time-stepped (dt=0.1s).Threads:worker_simulation_task: Runs one Monte Carlo iteration.run_full_sweep: Manages parameters ([8, 10, 15, 20, 25, 30] nodes, 7 fixed AUVs).Key Classes:Node: Represents sensors. Handles drift.AUV: Represents controllers. Handles patrol movement and charging.Baseline vs. ML:With EE-AURS (ML): Uses Flow Table + ML Reliability.Without EE-AURS: Uses Greedy Routing every time (No Flow Table) + Low Reliability.6. Current StatusSpeed vs PDR graphs removed.Cost Function removed (Strict Priority Logic used instead).Retries removed (One-shot physics check).AUV attributes fixed (.pos, .node_id added).